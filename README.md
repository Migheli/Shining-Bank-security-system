# Пульт охраны банка "Сияние"
Это внутренний репозиторий для сотрудников банка "Сияние". Если вы попали в этот репозиторий случайно, то вы не сможете его запустить, т.к. у вас нет доступа к БД, 
но сможете свободно использовать код вёрстки или посмотреть как реализованы запросы к БД.

Пульт охраны - это сайт, который можно подключить к удалённой базе данных с визитами и карточками пропуска сотрудников нашего банка.

### Как установить

Python3 должен быть уже установлен. Затем используйте pip (или pip3, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```
### Как запустить

Проект запускается стандартным для Django образом командой в терминале:
```
python manage.py runserver 0.0.0.0:8000
```
##### Настриваем переменные окружения
файл `.env` проекта содержит переменные окружения. Для проекта Вам потребуются:
```
SECRET_KEY=YOUR_SECRET_KEY
```
Секретный ключ. Используется для криптографической подписи, должен быть случайным и сложным для подбора.
`django-admin startproject` автоматом создает случайный SECRET_KEY для нового проекта.
Django не запустится, если SECRET_KEY не указан.
```
DEBUG=TRUE_OR_FALSE 
```
Принимает значения boolean: `True` или `False`.
Включение/выключение отладочного режима в проекте. Подробнее об отладочном режиме в Django:
https://docs.djangoproject.com/en/2.2/ref/settings/#std:setting-DEBUG
```
DB_URL=YOUR-DJ-DATABASE-URL
```
Пример для базы данных  Postgres: postgres://USER:PASSWORD@HOST:PORT/NAME 

URL-адрес специального формата. Подробнее здесь: https://github.com/jacobian/dj-database-url. 
Позволяет оптимизировать код файла `settings.py` и `.env` и содержит следующие настройки доступа к базе данных в одной строке:
`ENGINE`, `HOST`, `PORT`, `NAME`, `USER`, `PASSWORD`.

```
ALLOWED_HOSTS=YOUR_ALLOWED_HOSTS_LIST
```
Список хостов/доменов, для которых может работать текущий сайт. Это сделано для безопасности, чтобы обезопасить от внедрения в куки или письма для сброса пароля ссылок на сторонний сайт подменив HTTP заголовок Host, что возможно при многих, казалось бы безопасных, конфигурациях сервера.
Подбробнее здесь:
https://djbook.ru/rel1.7/ref/settings.html#allowed-hosts

### Пример работы проекта
Рассмотрим пример локального запуска проекта на Вашем компьютере.
После запуска проекта, как указано выше, Вы получаете доступ к проекту по ссылке:
```
127.0.0.1:8000
```

Пример отображения "стартовой" страницы проекта в бразуере:
<img src="https://i.ibb.co/s9HXBsK/2022-03-06-14-47-04.png" width="850" height="400">

Кликом по имени пользователя мы получаем доступ в статистику посещения данным конкретным пользователем нашего хранилища, которая выглядит следующим образом: 
<img src="https://i.ibb.co/JnCrBRb/2022-03-06-14-59-45.png" width="850" height="400">

Кликом по ссылке "Список пользователей в хранилище" мы получаем указанную информацию. Отображение в проекте выглядит следующим образом:
<img src="https://i.ibb.co/34K6J3x/2022-03-06-22-22-49.png" width="850" height="400">

Таким образом, проект позволяет мониторить активность пользователей: получасть статистику по каждому пользователю, получать список активных карт доступа и сведения по каждому посещению хранилища.

### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков dvmn.org.
